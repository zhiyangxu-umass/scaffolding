{
    "srl_dataset_reader": {
      "type": "consist_srl",
      "max_span_width": 13,
      "token_indexers": {
        "tokens": {
          "type": "single_id",
          "lowercase_tokens": true
        },
        "elmo": {
          "type": "elmo_characters"
        }
      }
    },
    "constit_dataset_reader": {
      "type": "consist_constit",
      "max_span_width": 13,
      "label_namespace": "constit_labels",
      "constraints_type": "gold_srl",
      "token_indexers": {
        "tokens": {
          "type": "single_id",
          "lowercase_tokens": true
        },
        "elmo": {
          "type": "elmo_characters"
        }
      }
    },
    "srl_test_dataset_reader": {
        "type": "crf_srl",
        "max_span_width": 13,
        "token_indexers": {
          "tokens": {
            "type": "single_id",
            "lowercase_tokens": true
          },
          "elmo": {
            "type": "elmo_characters"
          }
        }
      },
      "constit_test_dataset_reader": {
        "type": "syntactic_constit",
        "max_span_width": 13,
        "label_namespace": "constit_labels",
        "token_indexers": {
          "tokens": {
            "type": "single_id",
            "lowercase_tokens": true
          },
          "elmo": {
            "type": "elmo_characters"
          }
        }
      },

    "srl_train_data_path": "dataset/processed_onto/train/train.srl",
    "constit_train_data_path": "dataset/processed_onto/train/train.all",
    "srl_validation_data_path": "dataset/conll-formatted-ontonotes-5.0-12/conll-formatted-ontonotes-5.0/data/development/",
    "srl_test_data_path": "dataset/conll-formatted-ontonotes-5.0-12/conll-formatted-ontonotes-5.0/data/test/",
    "model": {
        "type": "consist_injection_srl",
        "text_field_embedder": {
          "tokens": {
            "type": "embedding",
            "embedding_dim": 100,
            "pretrained_file": "dataset/glove_embedding/glove.6B.100d.txt.gz",
            "trainable": true
          },
          "elmo":{
            "type": "elmo_token_embedder",
            "options_file": "dataset/elmo/elmo_2x4096_512_2048cnn_2xhighway_options.json",
            "weight_file": "dataset/elmo/elmo_2x4096_512_2048cnn_2xhighway_weights.hdf5",
            "do_layer_norm": false,
            "dropout": 0.2
          }
        },
        "initializer": [
          [".*_projection_layer.*weight", {"type": "orthogonal"}],
          [".*_scorer.*weight", {"type": "xavier_normal"}],
          [".*_feedforward.*weight", {"type": "xavier_normal"}],
          [".*_embedding.*weight", {"type": "xavier_normal"}]
        ],
        "stacked_encoder": {
          "type": "alternating_highway_lstm_cuda",
          "input_size": 1224,
          "hidden_size": 300,
          "num_layers": 6,
          "recurrent_dropout_probability": 0.1
        },
        "span_feedforward": {
          "input_dim": 909,
          "num_layers": 2,
          "hidden_dims": 150,
          "activations": "relu",
          "dropout": 0.5
        },
        "binary_feature_dim": 100,
        "max_span_width": 13,
        "feature_size": 2,
        "loss_type": "hamming",
        "np_pp_constits": false,
        "unlabeled_constits": true,
        "constit2srl_consist": true
      },
      "srl_iterator": {
        "type": "bucket",
        "biggest_batch_first": true,
        "sorting_keys": [
          [
            "tokens",
            "num_tokens"
          ]
        ],
        "batch_size": 32
      },
      "constit_iterator": {
        "type": "bucket",
        "biggest_batch_first": true,
        "sorting_keys": [
          [
            "tokens",
            "num_tokens"
          ]
        ],
        "batch_size": 32
      },
      "evaluate_on_test": true,
      "trainer": {
        "num_epochs": 100,
        "grad_clipping": 1.0,
        "mixing_ratio": 1.0,
        "warmup_epoch": 5,
        "patience": 20,
        "validation_metric": "+f1-measure-overall",
        "cuda_device": 0,
        "optimizer": {
          "type": "adam",
          "lr": 0.001
        }
      }
    }
